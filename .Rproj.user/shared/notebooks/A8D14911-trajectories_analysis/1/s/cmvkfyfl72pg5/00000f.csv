"0","# --------------------------------------------------------------------"
"0","# Aggregate Mean Trajectories per Word Position by Response"
"0","# --------------------------------------------------------------------"
"0","mean_trajectory_resp <- results_df %>%"
"0","  group_by(response, deliberation_function, start_word) %>%"
"0","  summarise(similarity = mean(similarity, na.rm = TRUE)) %>%"
"0","  rename(position = start_word)"
"2","`summarise()` has grouped output by 'response', 'deliberation_function'. You can override using the `.groups` argument."
"0","# --------------------------------------------------------------------"
"0","# Aggregate Mean Trajectories per Normalized Position by Response"
"0","# --------------------------------------------------------------------"
"0","mean_trajectory_norm_resp <- results_df %>%"
"0","  group_by(response, deliberation_function, normalized_position) %>%"
"0","  summarise(similarity = mean(similarity, na.rm = TRUE)) %>%"
"0","  rename(position = normalized_position)"
"2","`summarise()` has grouped output by 'response', 'deliberation_function'. You can override using the `.groups` argument."
"0","# --------------------------------------------------------------------"
"0","# Smoothing Function for Response Grouping"
"0","# --------------------------------------------------------------------"
"0","smooth_trajectory_response <- function(df, window = 5) {"
"0","  df %>%"
"0","    group_by(response, deliberation_function) %>%"
"0","    arrange(position) %>%"
"0","    mutate(similarity = rollmean(similarity, k = window, fill = NA, align = ""center"")) %>%"
"0","    drop_na()"
"0","}"
